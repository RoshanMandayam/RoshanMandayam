<!DOCTYPE html>
<html>
<head>
    <title>Are We There Yet?</title>
    <style>
        .container {
        display: flex;
        align-items: center;
        }

        button {
        margin-left: 10px;
        }


    </style>
</head>
<body>
    <h1>Are We There Yet?</h1>
    <h2>A single player map-based guessing game.  </h2>
    <h2>Rules </h2>
    <h2>1. Have Fun! </h2>
    <h2>2. Your goal is to guess the amount of time (in SECONDS) it takes to WALK from one location to another (both locations are cities in the U.S.A. with the exact coordinates the same as the standard chosen by Google Maps for each city)  </h2>
    <h2>3. Your score is based on the accuracy of your guess -- but if you overestimate, you get 0 points!!! </h2>
    <h2>4. Don't forget Rule 1. </h2>
    <br>
    <p >

        <iframe  src="https://maps.google.com/maps?q={{latOne}},{{lonOne}}&t=&z=15&ie=UTF8&iwloc=&output=embed" 
            width="300"
            height="170"
            id = 'locOne' ></iframe>    
    </p>
    <h1 id="changeit1"> Location 1: {{ cityOne }}</h1>
    <!--button type="button" onclick="generateLocOne()">Generate</button></body-->
    <br>
    <p >

        <iframe src="https://maps.google.com/maps?q={{latTwo}},{{lonTwo}}&t=&z=15&ie=UTF8&iwloc=&output=embed" 
            width="300"
            height="170"
            id = 'locTwo'></iframe>

    </p>

    <h1 id="changeit2"> Location 2: {{ cityTwo }} </h1>
    
    <!--form action="/generateLocations" method="post"> 
        <input type="submit" value="Generate Locations!" >
    </form>-->
    <body>
        
        <button onclick="generateLocs()">Generate Locations</button>
    </body>

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <script>
        
        function generateLocs() {
            var locTwoText = document.getElementById("changeit2");
            var locOneText = document.getElementById("changeit1");
            var locOne = document.getElementById("locOne")
            $.ajax({
                type: "GET",
                url: "{{ url_for('create_file') }}",
                data: {"name":"Jim"},
                success: function(response) {
                    locTwoText.innerHTML = response["Location 2 Text"];
                    locOneText.innerHTML = response['Location 1 Text'];
                    
                    locTwo.src = "https://maps.google.com/maps?q=".concat(response['Location 2 Lat'],",",(response['Location 2 Lon']),"&t=&z=15&ie=UTF8&iwloc=&output=embed");
                    locOne.src = "https://maps.google.com/maps?q=".concat(response['Location 1 Lat'],",",(response['Location 1 Lon']),"&t=&z=15&ie=UTF8&iwloc=&output=embed");
                }

            })
        }


    </script>

    <br>
    <div class = "container">
        
        <label for="guess">Enter your guess: </label>
        <input type="text" id = "guess">

        <input  type="submit" onclick="submitGuess()" value = "Submit (It will display here)->" > {{time}}  </input>
        
        <h1 id= "corrAns">  </h1>
        
    </div>

    <script>
        
        function submitGuess() {
            //var locTwoText = document.getElementById("changeit2");
            //var locOneText = document.getElementById("changeit1");
            //var locOne = document.getElementById("locOne")
            var timeAns = document.getElementById("corrAns");
            $.ajax({
                type: "POST",
                url: "{{ url_for('submitGuess') }}",
                data: {"name":"Jim"},
                success: function(response) {
                    //locTwoText.innerHTML = response["Location 2 Text"];
                    //locOneText.innerHTML = response['Location 1 Text'];
                    timeAns.innerHTML = response['time'];
                    //locTwo.src = "https://maps.google.com/maps?q=".concat(response['Location 2 Lat'],",",(response['Location 2 Lon']),"&t=&z=15&ie=UTF8&iwloc=&output=embed");
                    //locOne.src = "https://maps.google.com/maps?q=".concat(response['Location 1 Lat'],",",(response['Location 1 Lon']),"&t=&z=15&ie=UTF8&iwloc=&output=embed");
                }

            })
        }


    </script>
</body>
</html>
        <!--locOne.attr("src","https://maps.google.com/maps?q={{latOne}},{{lonTwo}}&t=&z=15&ie=UTF8&iwloc=&output=embed")-->